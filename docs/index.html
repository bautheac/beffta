<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>becoming an effective technology analyst • beffta</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="becoming an effective technology analyst">
<meta property="og:description" content='This package host assignment material for the "becoming an effective technology analyst" 
  class as part of the coursework of the Strathclyde Business School MSc fintech program.'>
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">beffta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">home</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/bautheac/beffta/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="strathclyde-business-school-fintech-msc-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#strathclyde-business-school-fintech-msc-" class="anchor"></a>Strathclyde Business School, finTech MSc <img src="reference/figures/logo.png" align="right">
</h1></div>
<p>Welcome to the ‘becoming an effective technoloy analyst’ class as part of the Strathclyde Business School, finTech MSc program coursework.</p>
<p>Follow the instructions below for your data-science finance assignement. Examples solutions in both the R and Python programming languaes will be provided in due time.</p>
</div>
<div id="full-stack-data-science-finance-small-project" class="section level1">
<h1 class="hasAnchor">
<a href="#full-stack-data-science-finance-small-project" class="anchor"></a>full stack data-science finance (small) project</h1>
<div id="preprocessing-elt" class="section level2">
<h2 class="hasAnchor">
<a href="#preprocessing-elt" class="anchor"></a><em>preprocessing (ELT)</em>
</h2>
<div id="extract" class="section level3">
<h3 class="hasAnchor">
<a href="#extract" class="anchor"></a><em>extract</em>
</h3>
<div id="minimum-required" class="section level4">
<h4 class="hasAnchor">
<a href="#minimum-required" class="anchor"></a><em>minimum required</em>
</h4>
<p>In an excel woorkbook, query Bloomberg for historical (bdh) as well as contemporaneous (bdp) data for a market index as well as a broad cross-section of U.S. stocks. Historical data should be retrieved from October 1^st^ 2016 to today at the daily frequency on individual ticker specific sheets (one sheet per name). All names’ contemporaneous data, on the other hand, should sit on a single sheet. The Bloomberg ticker for the market index is ‘RAY Index’ while those for the corporation names are listed below:</p>
<table class="table">
<thead><tr class="header">
<th>BBG stock tickers</th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr></thead>
<tbody>
<tr class="odd">
<td>ADM US Equity</td>
<td>CIVI US Equity</td>
<td>GBX US Equity</td>
<td>LIND US Equity</td>
<td>SERV US Equity</td>
</tr>
<tr class="even">
<td>AE US Equity</td>
<td>CLGX US Equity</td>
<td>GDI US Equity</td>
<td>LZB US Equity</td>
<td>SGA US Equity</td>
</tr>
<tr class="odd">
<td>AGCO US Equity</td>
<td>CLR US Equity</td>
<td>GHC US Equity</td>
<td>MAN US Equity</td>
<td>SITE US Equity</td>
</tr>
<tr class="even">
<td>AJRD US Equity</td>
<td>COMM US Equity</td>
<td>GME US Equity</td>
<td>MEI US Equity</td>
<td>SMP US Equity</td>
</tr>
<tr class="odd">
<td>ALG US Equity</td>
<td>CRL US Equity</td>
<td>GOLF US Equity</td>
<td>MLR US Equity</td>
<td>SPXC US Equity</td>
</tr>
<tr class="even">
<td>AMD US Equity</td>
<td>CTB US Equity</td>
<td>GPN US Equity</td>
<td>MRC US Equity</td>
<td>STRT US Equity</td>
</tr>
<tr class="odd">
<td>AMOT US Equity</td>
<td>CTLT US Equity</td>
<td>GTLS US Equity</td>
<td>MTD US Equity</td>
<td>SUPN US Equity</td>
</tr>
<tr class="even">
<td>ASGN US Equity</td>
<td>CTXS US Equity</td>
<td>HFC US Equity</td>
<td>MTZ US Equity</td>
<td>TAST US Equity</td>
</tr>
<tr class="odd">
<td>ATRO US Equity</td>
<td>DHI US Equity</td>
<td>HOFT US Equity</td>
<td>NC US Equity</td>
<td>TMO US Equity</td>
</tr>
<tr class="even">
<td>AVT US Equity</td>
<td>DKS US Equity</td>
<td>HPE US Equity</td>
<td>NGVT US Equity</td>
<td>TNET US Equity</td>
</tr>
<tr class="odd">
<td>AWI US Equity</td>
<td>EBIX US Equity</td>
<td>HURC US Equity</td>
<td>NHC US Equity</td>
<td>TPB US Equity</td>
</tr>
<tr class="even">
<td>BBBY US Equity</td>
<td>EEFT US Equity</td>
<td>HWKN US Equity</td>
<td>NUE US Equity</td>
<td>UBNT US Equity</td>
</tr>
<tr class="odd">
<td>BFAM US Equity</td>
<td>ELF US Equity</td>
<td>HY US Equity</td>
<td>OSIS US Equity</td>
<td>UFPI US Equity</td>
</tr>
<tr class="even">
<td>BID US Equity</td>
<td>ELVT US Equity</td>
<td>IAC US Equity</td>
<td>OSK US Equity</td>
<td>UFS US Equity</td>
</tr>
<tr class="odd">
<td>BIG US Equity</td>
<td>EML US Equity</td>
<td>IART US Equity</td>
<td>PFGC US Equity</td>
<td>USAK US Equity</td>
</tr>
<tr class="even">
<td>BKNG US Equity</td>
<td>ENTG US Equity</td>
<td>IBP US Equity</td>
<td>PGTI US Equity</td>
<td>VLGEA US Equity</td>
</tr>
<tr class="odd">
<td>BLD US Equity</td>
<td>ERI US Equity</td>
<td>IDTI US Equity</td>
<td>PKI US Equity</td>
<td>VLO US Equity</td>
</tr>
<tr class="even">
<td>BSET US Equity</td>
<td>ETH US Equity</td>
<td>INT US Equity</td>
<td>PLPC US Equity</td>
<td>VRSK US Equity</td>
</tr>
<tr class="odd">
<td>BWA US Equity</td>
<td>FICO US Equity</td>
<td>IOSP US Equity</td>
<td>PRAH US Equity</td>
<td>WBC US Equity</td>
</tr>
<tr class="even">
<td>BYD US Equity</td>
<td>FISV US Equity</td>
<td>ITRI US Equity</td>
<td>PSX US Equity</td>
<td>WERN US Equity</td>
</tr>
<tr class="odd">
<td>CAL US Equity</td>
<td>FL US Equity</td>
<td>JLL US Equity</td>
<td>RBC US Equity</td>
<td>WGO US Equity</td>
</tr>
<tr class="even">
<td>CBRE US Equity</td>
<td>FLR US Equity</td>
<td>KHC US Equity</td>
<td>RS US Equity</td>
<td>WRK US Equity</td>
</tr>
<tr class="odd">
<td>CENTA US Equity</td>
<td>FLT US Equity</td>
<td>KSU US Equity</td>
<td>RXN US Equity</td>
<td>XPO US Equity</td>
</tr>
<tr class="even">
<td>CHEF US Equity</td>
<td>FTV US Equity</td>
<td>LGND US Equity</td>
<td>SCL US Equity</td>
<td>ZBRA US Equity</td>
</tr>
</tbody>
</table>
<p>The historical time series should include the following market &amp; book data fields:</p>
<table class="table">
<thead><tr class="header">
<th>field</th>
<th>Bloomberg symbol</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>close price</td>
<td>PX_LAST</td>
</tr>
<tr class="even">
<td>book value per share</td>
<td>BOOK_VAL_PER_SH</td>
</tr>
<tr class="odd">
<td>earnings per share</td>
<td>TRAIL_12M_EPS</td>
</tr>
<tr class="even">
<td>dividend per share</td>
<td>TRAIL_12M_DVD_PER_SH</td>
</tr>
<tr class="odd">
<td>debt</td>
<td>SHORT_AND_LONG_TERM_DEBT</td>
</tr>
<tr class="even">
<td>equity</td>
<td>TOTAL_EQUITY</td>
</tr>
<tr class="odd">
<td>current assets</td>
<td>BS_CUR_ASSET_REPORT</td>
</tr>
<tr class="even">
<td>current liabilities</td>
<td>BS_CUR_LIAB</td>
</tr>
<tr class="odd">
<td>sales</td>
<td>SALES_REV_TURN</td>
</tr>
</tbody>
</table>
<p>Contemporaneous data on the other hand should include the number of shares outstanding, number of directors on the board, number of women on the board, number of board meetings per year, long company name and companie description. Explore Bloomberg to find the corresponding field symbols.</p>
</div>
<div id="going-further" class="section level4">
<h4 class="hasAnchor">
<a href="#going-further" class="anchor"></a><em>going further</em>
</h4>
<ul>
<li>Using VBA, make your workbook updatable. Ammend your workbook so that it retrieves up to date data in one clic.
<ul>
<li>Hint 1. Update doesn’t necessarily mean adding most recent values to an existing time series. Requerying the whole data up to the most recent date would work as well.</li>
<li>Hint 2. Inspect the BQL syntax in Bloomberg formula cells, ammend accordingly.</li>
</ul>
</li>
<li>Using VBA, make your workbook flexible. Ammend your workbook so that it can retrieve data for any set of stocks/indexes &amp; market/book fields at various frequencies (year, month, week, day), from and to any date. The user should only have to list the tickers/fields and set the parameters on one sheet.
<ul>
<li>Hint 1. Object oriented programming could help; excel table objects in particular.</li>
<li>Hint 2. Create an update sheet with tickers list, parameters (frequency, start and end dates) and fields. This sheet could also be use to host the contemporaneous dataset.</li>
</ul>
</li>
<li>Using VBA, make your workbook fully portable. If you open your workbook without a live Bloomberg connection you’ll notice you loose the contemporaneous dataset; try to fix that problem somehow.
<ul>
<li>Hint 1. VBA events could help.</li>
</ul>
</li>
</ul>
<p>You now have a fully portable &amp; customizable tool to retrieve financial data from Bloomberg and it’s now time to use it.</p>
</div>
</div>
<div id="load" class="section level3">
<h3 class="hasAnchor">
<a href="#load" class="anchor"></a><em>load</em>
</h3>
<p>```{r, include = FALSE} library(readxl); library(dplyr); library(data.table)</p>
<p>path &lt;- ‘data-raw/pullit.xlsm’; ticker_market &lt;- ‘RAY Index’; window &lt;- 252L</p>
<p>ticker_firms &lt;- read_excel(path, sheet = “update”, range = cell_cols(“D”)) %&gt;% filter(ticker != ticker_market)</p>
<p>static &lt;- read_excel(path, sheet = “update”, range = cell_cols(“D:H”)) %&gt;% filter(ticker != ticker_market) %&gt;% mutate_at(vars(-ticker), funs(as.numeric))</p>
<p>tickers &lt;- gsub(pattern = ‘/’, replacement = ‘~’, x = c(ticker_market, ticker_firms$ticker))</p>
<p>historical &lt;- lapply(tickers, function(x) read_excel(path, sheet = x, skip = 1L) %&gt;% mutate(Date = as.Date(Date), ticker = x) %&gt;% mutate_at(vars(-c(‘ticker’, ‘Date’)), funs(as.numeric)) %&gt;% filter(! is.na(Date))) %&gt;% rbindlist()</p>
<pre><code>
Using R or Python (example solutions will be provided for both programming languages), load the workbook data in memory. Organise the data in two dataframes, one for the historical times series, the other for static (contemporaneous) data. The time series dataframe should have a two-level row index including tickers &amp; dates while columns should host the corresponding time series; the dataframe should broadly look like this:

```{r, message = FALSE, echo = FALSE}
as_tibble(select(historical, ticker, everything()))</code></pre>
<p>The static dataset on the other hand should be row-indexed by tickers and have columns hosting the corresponding static data fields. For static data, only numeric fields should be loaded with long company name and description fields left to the excel workbook for reference.</p>
</div>
<div id="transform" class="section level3">
<h3 class="hasAnchor">
<a href="#transform" class="anchor"></a><em>transform</em>
</h3>
<div id="market-betas" class="section level4">
<h4 class="hasAnchor">
<a href="#market-betas" class="anchor"></a><em>market betas</em>
</h4>
<div id="minimum-required-1" class="section level5">
<h5 class="hasAnchor">
<a href="#minimum-required-1" class="anchor"></a><em>minimum required</em>
</h5>
<p>Using the most recent samples in the time series data, calculate the individual 1-year market betas for the stocks. Show calculations and comment. Comments should include a detailled discussion on what market betas are, what they represent for stocks as well as details about the corresponding model. Plot your results as a histogram and comment. Hint: there are 252 trading days in a year.</p>
</div>
<div id="going-further-1" class="section level5">
<h5 class="hasAnchor">
<a href="#going-further-1" class="anchor"></a><em>going further</em>
</h5>
<p>Using all the time series samples, calculate the individual rolling 1-year market betas for the stocks. Randomly select five stocks and display their corresponding rolling betas time series on the same lineplot.</p>
</div>
</div>
<div id="features-interactions" class="section level4">
<h4 class="hasAnchor">
<a href="#features-interactions" class="anchor"></a><em>features interactions</em>
</h4>
<ul>
<li>Using the most recent samples in the time series dataset, for each name construct a set of feature interactions that include the following popular financial ratios: price to book, price to earnings, dividend yield and gearing. Show calculations and discuss these concepts from a corporate finance standpoint.</li>
<li>Explore this new dataset. Hint: use visualization tools.</li>
</ul>
</div>
</div>
</div>
<div id="modeling" class="section level2">
<h2 class="hasAnchor">
<a href="#modeling" class="anchor"></a><em>modeling</em>
</h2>
<div id="minimum-required-2" class="section level3">
<h3 class="hasAnchor">
<a href="#minimum-required-2" class="anchor"></a><em>minimum required</em>
</h3>
<div id="cluster-analysis-unsupervised-learning" class="section level4">
<h4 class="hasAnchor">
<a href="#cluster-analysis-unsupervised-learning" class="anchor"></a><em>cluster analysis (unsupervised learning)</em>
</h4>
<div id="hierarchical-clustering" class="section level5">
<h5 class="hasAnchor">
<a href="#hierarchical-clustering" class="anchor"></a><em>hierarchical clustering</em>
</h5>
<p>After normalizing the ratios dataset above to zero means and unit variances, apply hierachical clustering and draw the corresponding dendogram. What seems to be the optimal number of clusters for this dataset? Explain.</p>
</div>
<div id="k-means" class="section level5">
<h5 class="hasAnchor">
<a href="#k-means" class="anchor"></a><em>k-means</em>
</h5>
<ul>
<li>Implement a two-cluster k-means analysis on this dataset. Explore the resulting cluster characteristics: calculate the cluster specific means for each ratio. Comment on the results and propose labels for the two classes. Hint: how would Warren Buffett most likely answer this?</li>
<li>Label individual names accordingly in a new ‘classes’ dataframe.</li>
</ul>
</div>
</div>
</div>
<div id="going-further-2" class="section level3">
<h3 class="hasAnchor">
<a href="#going-further-2" class="anchor"></a><em>going further</em>
</h3>
<div id="classification-supervised-learning" class="section level4">
<h4 class="hasAnchor">
<a href="#classification-supervised-learning" class="anchor"></a><em>classification (supervised learning)</em>
</h4>
<ul>
<li>Create a betas dataset that subsets the most recent (last sample date) samples from the rolling maket betas dataset above. Merge the classes, ratios, static and betas datasets together.</li>
<li>Implement a classification analysis on the resulting dataset where the target is name’s class as attributed above. Use various classifiers including logistic regression, k-nearest-neighbours, support vector machines, decision tree, random forest and neural network (multi-layer perceptrons). Use 75-25% for training-test sets split and 5-fold cross-validation.</li>
<li>For each model:
<ul>
<li>Show training and test set confusion matrices and calculate corresponding precision &amp; recall indicators; comment. Your comments should include a discussion on precision and recall.</li>
<li>Explain what the model does and how. Discuss model paramaters and how they contribute to model fine-tunning.</li>
<li>Find model optimal parameters using gridsearch and run model accordingly. Show corresponding learning curves.</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/bautheac/beffta/">https://​github.com/​bautheac/​beffta/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/bautheac/beffta/issues">https://​github.com/​bautheac/​beffta/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Olivier Bauthéac <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/strathclyde/befftafall2018"><img src="https://travis-ci.org/strathclyde/befftafall2018.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://ci.appveyor.com/project/strathclyde/befftafall2018"><img src="https://ci.appveyor.com/api/projects/status/github/strathclyde/befftafall2018?branch=master&amp;svg=true" alt="AppVeyor build status"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="lifecycle"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Olivier Bauthéac.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
